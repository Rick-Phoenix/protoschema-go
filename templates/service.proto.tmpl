{{ define "service" }}

{{ $protoPkg := .Package.Name }}

{{ range .Services }}
service {{ serviceSuffix .Resource }} {
{{ range .Options -}}
  {{ fmtOpt . }};
{{ end }}
  {{- range .Handlers}}
  rpc {{ .Name }}({{ getMsgName .Request $protoPkg }}) returns({{ getMsgName .Response $protoPkg }});
  {{- end}}
}
{{ end }}

{{ end }}
